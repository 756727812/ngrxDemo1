<div class="modal-header">
    <button type="button" class="close" ng-click="vm.cancel()" data-dismiss="modal">&times;</button>
    <h1 class="modal-title"><font color="black" style="font-size:20px">模板分配-多商城设置</font></h1>
</div>
<form class="form-horizontal w5c-form" name="divideKOLForm" novalidate w5c-form-validate role="form">
<div class="modal-body">
  <div class="table-scrollable">
    <table class="table table-hover table-striped">
      <thead>
        <tr>
          <th>KOL</th>
          <th>覆盖已有商城</th>
          <th>新建商城</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat= "item in vm.mall_list track by $index">
          <td>{{item.kol_info.kol_name}}</td>
          <td>
            <div class="radio" ng-repeat = "list in item.list track by $index">
              <label>
                <input type="radio" name="radio{{item.kol_info.kol_id}}" ng-value="list.mall_id" ng-model="list.choice" ng-click="vm.resetOption(list.mall_id,$parent.$index)">
                {{list.title}}
              </label>
            </div>
          </td>
          <td>

            <div class="radio">
              <label>
                <input type="radio" name="radio{{item.kol_info.kol_id}}" value="0" ng-checked="item.kol_info.choice"  ng-click="vm.resetName($index)">
                <input type="text" name="new_mall_name" ng-model="item.kol_info.new_mall_name" ng-disabled="item.list.length &&!item.kol_info.choice" ng-trim="true" class="form-control" ng-init="!item.list.length && 'required'"  ng-change="vm.changeName()">
              </label>
            </div>
          </td> 
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="modal-footer">
    <font color="red" ng-if="vm.is_error == 1">商城名为必填，请检查</font>
    <button class="btn btn-default" type="button" ng-click="vm.cancel()">取消</button>
    <button class="btn btn-primary" type="button" w5c-form-submit="vm.ok()">下一步</button>
</div>
</form>